syntax = "proto3";

package pose;

message Joint2D {
  float x = 1;
  float y = 2;
}

message Joint3D {
  float x = 1;
  float y = 2;
  float z = 3;
}

message PersonPose {
  int32 person_id = 1;
  repeated Joint2D joints_2d = 2;
  repeated Joint3D joints_3d = 3;
  repeated float confidence = 4;
}

message PoseFrame {
  int64 timestamp_ms = 1;
  string source_id = 2;
  repeated PersonPose people = 3;
}

message Ack {
  bool ok = 1;
}

/**
 * Streaming-friendly service
 * matches DDS-bridge style
 */
service PoseService {
  rpc PublishPose (PoseFrame) returns (Ack);
}
